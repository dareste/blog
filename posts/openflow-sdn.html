<!DOCTYPE html>
<html lang="es">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="Entre Dev Y Ops">
<title>OpenFlow, democratizando SDN | Entre Dev Y Ops</title>
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/edyo.css" rel="stylesheet" type="text/css">
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<meta name="twitter:card" content="summary">
<meta name="og:url" content="http://www.entredevyops.es/posts/openflow-sdn.html">
<meta name="twitter:site:id" content="370552857">
<meta name="og:title" content="OpenFlow, democratizando SDN">
<meta name="og:description" content="Más vale tarde que nunca: si hace ya un tiempo nos arrancamos con una introducción teórica a las diferentes filosofías de virtualización de red, hoy retomamos el tema para ahondar en conceptos más esp">
</head>
<body>

<div id="wrap">

    <!-- Menubar -->

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://www.entredevyops.es/">Entre Dev Y Ops</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav navbar-right" id="main-navbar">
<li>
<a href="../tags/index.html"><i class="fa fa-tags"></i> Etiquetas</a>
                </li>
<li>
<a href="../archive.html"><i class="fa fa-archive"></i> Archivo</a>
                </li>
<li>
<a href="../podcast.html"><i class="fa fa-microphone"></i> Podcast</a>
                </li>
<li>
<a href="../acerca-de.html"><i class="fa fa-info-circle"></i> Acerca de...</a>

                        </li>
<li id="search-button"><a href="#" class="fa fa-search"></a></li>
                        </ul>
<form method="get" role="search" id="search" action="https://google.es/search" class="nav navbar-form">
<input type="hidden" name="as_sitesearch" value="http://www.entredevyops.es/"><input type="text" name="q" maxlength="255" placeholder="Buscar..." class="form-control"><input type="submit" value="Buscar">
</form>
                
            </div>
<!-- /.navbar-collapse -->
        </div>
    </nav><!-- End of Menubar --><div class="container">
        <div class="body-content">
            <!--Body content-->
    <article class="postbox clearfix"><h1 class="p-name" itemprop="headline name">OpenFlow, democratizando SDN</h1>

            <ul class="pager">
<li class="previous">
        <a href="podcast-episodio-11.html" title="Podcast Episodio 11: Cursos Scrum, GHOST y FOSDEM" rel="prev">Post anterior</a>
        </li>
        <li class="next">
            <a href="podcast-episodio-12.html" title="Podcast Episodio 12: EuroPython 2015" rel="next">Siguiente post</a>
        </li>
    </ul>
<div class="meta">
            <small>
                por <span class="author">Daniel Aresté</span>
                el <time class="published" datetime="2015-02-18T10:00:00+01:00">18/02/2015</time>
                
                en     <span itemprop="keywords">
        <a class="tag p-category" href="../tags/redes.html"><span class="badge badge-info">Redes</span></a>
        <a class="tag p-category" href="../tags/sdn.html"><span class="badge badge-info">SDN</span></a>
        <a class="tag p-category" href="../tags/virtualizacion.html"><span class="badge badge-info">Virtualización</span></a>
    </span>

            </small>
        </div>
        <img alt="OpenFlow" class="align-right" src="../images/OpenFlow-Logo-Small.jpg"><p>Más vale tarde que nunca: si hace ya un tiempo nos arrancamos con una <a class="reference external" href="http://www.entredevyops.es/posts/sdn-nfv-wtf.html">introducción teórica</a> a las diferentes filosofías de virtualización de red, hoy retomamos el tema para ahondar en conceptos más específicos.</p>
<p>Hablemos de OpenFlow, probablemente la tecnología SDN más popular hoy en día.</p>
<!-- TEASER_END -->
<div class="section" id="breve-historia">
<h2>Breve historia</h2>
<p>Universidad de Stanford, 2007. Un estudiante de doctorado llamado Martín Casado publica un <a class="reference external" href="http://yuba.stanford.edu/~casado/ethane-sigcomm07.pdf">paper</a> llamado <em>Ethane: Taking Control of the Enterprise</em>, en el que partiendo de la pregunta "¿Cómo podemos cambiar la arquitectura de red de una empresa para poderla hacer más gestionable?" desarrolla un diseño bajo una serie de principios básicos:</p>
<ol class="arabic simple">
<li>Abstracción: La red debe ser gobernada por políticas de alto nivel.</li>
<li>Automatización: Dichas políticas determinarán el camino que siguen los paquetes.</li>
<li>Trazabilidad: La red debe garantizar el vínculo entre el tráfico y los usuarios.</li>
</ol>
<p>Suena bastante “DevOps”, ¿no creéis? ;)</p>
<p>En este paper, Casado ya presenta dos de los principales elementos característicos de OpenFlow: el concepto de Controller (elemento central que aloja la inteligencia de la red) y el concepto de Flow (la entidad formada por un nodo origen, un nodo destino y el tráfico que intercambian). Unos meses después, el grupo de Redes de Alto Rendimiento de Stanford (entre los que se encontraba Casado) crea el proyecto <a class="reference external" href="http://www.openflowswitch.com/">OpenFlow</a> e incluso libera una implementación pre-alpha en Noviembre del mismo año.</p>
<p>Ocho años después, la <a class="reference external" href="https://www.opennetworking.org/">Open Networking Foundation</a> es la organización dedicada a impulsar el estándar OpenFlow (que ya va por su release 1.4.0) y tiene tras de sí a <a class="reference external" href="https://www.opennetworking.org/our-members">cientos</a> de miembros incluyendo la práctica totalidad de los gigantes tecnológicos actuales (un gallifante para el primero que escriba en los comentarios a quién de los grandes echa en falta... Y dos gallifantes si lo adivinó antes de ver la lista... :)</p>
</div>
<div class="section" id="arquitectura">
<h2>Arquitectura</h2>
<p>Empecemos a describir OpenFlow con un ejemplo. Imaginad que al administrador de red de Acme, Inc le piden dar acceso a los invitados a Internet, pero sólo a través de proxy. Lo que cruzará por su mente será algo así:</p>
<blockquote>
<em>"Mmm... déjame pensar... mejor creo un segmento nuevo para invitados. Tendré que crear una VLAN nueva y asignarla a los puertos de las salas de reuniones... a ver que no me deje ninguno... uy, y luego tendré que crear un servicio DHCP con un rango IP nuevo... y con alguna opción de autoprovisión de proxy, claro. Ah, espera, tendré que ir al router a crear las rutas para el nuevo rango IP, o si no no llegarán al proxy... Uf, y además tengo el firewall entre medias, así que me toca crear reglas de acceso... Ehm... el proxy lo tengo escuchando en el 8080 o en el 6128? Y tenía que hacer NAT o no? Nunca me acuerdo..."</em>
</blockquote>
<p>De tener OpenFlow, la experiencia de nuestro pobre administrador de red hubiera sido muy distinta (dramatización):</p>
<blockquote>
<em>"Luego me conecto al OpenFlow Controller y defino el grupo de puertos de invitados. Lo crearé como grupo dinámico, que contenga los puertos con 'Sala Reuniones' en su descripción. Al grupo le marcaré la opción de ‘Solo Proxy’ en el desplegable de ‘Acceso Internet’, instalo la política y listos..."</em>
</blockquote>
<p>¿Brujería? No, una combinación de software y algo llamado Flow Tables.</p>
<p>Empecemos por el principio. En el estándar OpenFlow ya no existe distinción física entre switch, router, firewall o balanceador de carga. Cualquier dispositivo que manipule tráfico de red a nivel 2, 3 o 4 de la capa OSI recibe el nombre de OpenFlow Switch, y está controlado de forma centralizada por el OpenFlow Controller. Permitidme hablar de Switches y de Controllers de ahora en adelante.</p>
<p>El comportamiento de los Switches a la hora de manipular el tráfico vendrá dictado por su Flow Table local, que es una base de reglas condición-acción construida a partir de las primitivas que OpenFlow define en su estándar. Cuando una nueva trama Ethernet entre en el dispositivo, el Switch revisará su Flow Table para decidir qué hacer con ese tráfico. Algunos ejemplos de primitivas serían:</p>
<ul class="simple">
<li><em>Leer/modificar dirección MAC origen/destino</em></li>
<li><em>Leer/Modificar dirección IP origen/destino</em></li>
<li><em>Leer/Modificar puerto tcp/udp origen/destino</em></li>
<li><em>Leer/Modificar campo VLAN</em></li>
<li><em>Egresar por puerto(s) X</em></li>
<li><em>Enviar copia del tráfico al Controller</em></li>
</ul>
<p>Por ejemplo, el equivalente a un <em>hub</em> sería un Switch con una única primitiva instalada: "para cualquier trama Ethernet entrante, egresar por todos los puertos". Modelar el comportamiento de un switch tradicional con primitivas OpenFlow es algo más complejo y que veremos en el próximo post... aunque os espera el golden gallifante si me dáis la solución en los comentarios... :)</p>
</div>
<div class="section" id="it-s-the-software-stupid">
<h2>It's the software, stupid!</h2>
<p>Pero vamos a ver... si tengo que andar enredando con primitivas que hablan de puertos, IP's o VLANes, ¿dónde quedan los principios de Casado sobre las políticas de alto nivel que controlan la red?</p>
<p>La clave está en que es el Controller, y no el administrador, el responsable del mantenimiento de las Flow Tables de los Switches. El Controller es el 'cerebro' de la red y el 'intérprete' del administrador, y traducirá sus diseños de alto nivel a aburridas, largas y complejas Flow Tables que instalará a lo largo de los diferentes Switches de nuestra red.</p>
<p>Es importante entender que el estándar OpenFlow define sólo <em>una parte</em> de cómo es el Controller - lo que llamamos el Southbound API, que define la comunicación entre Controller y Switches y la manipulación de las Flow Tables y sus primitivas. Pero las capas de abstracción adicionales (<a class="reference external" href="http://en.wikipedia.org/wiki/Northbound_interface">Northbound API</a>) que van a permitir a nuestro querido administrador en Acme configurar la red a golpe de menú NO se incluyen en el estándar. Aquí es donde está surgiendo la verdadera innovación, con distintas propuestas Open Source y privativas de las que iremos hablando en próximos posts.</p>
</div>
<div class="section" id="es-esto-realmente-el-futuro">
<h2>¿Es esto realmente el futuro?</h2>
<p>Decididlo vosotros:</p>
<ul class="simple">
<li>Buscad en Google "[aquí_su_fabricante_tecnológico_favorito] + openflow" y contemplad cómo todo el mundo se está apresurando en tener versiones de sus productos que 'hablen' OpenFlow.</li>
<li>Por cierto, Google <em>usa</em> OpenFlow. Después de dos años de rediseño, en 2011 se completó la migración de su red interna a una arquitectura OpenFlow. <a class="reference external" href="https://www.youtube.com/watch?v=VLHJUfgxEO4">Aquí</a> tenéis el vídeo (47min) del Open Networking Summit de 2012 donde Urs Hoelzle presentó el proyecto.</li>
<li>Martín Casado y sus compañeros de Stanford crearon <a class="reference external" href="http://en.wikipedia.org/wiki/Nicira">Nicira Networks</a>, compañía dedicada a OpenFlow, SDN y virtualización de red. La <a class="reference external" href="http://www.vmware.com/company/news/releases/vmw-nicira-07-23-12">vendieron</a> a VMWare en 2012 por un gritón de dólares.</li>
</ul>
<p>Nos vemos en el próximo post con un laboratorio de OpenFlow. ¡Hasta entonces!</p>
</div>
    </article><div class="pager row">
        <div class="previous col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div>Post anterior</div>
            <a href="podcast-episodio-11.html" rel="prev">Podcast Episodio 11: Cursos Scrum, GHOST y FOSDEM</a>
        </div>
        <div class="next col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div>Siguiente post</div>
            <a href="podcast-episodio-12.html" rel="next">Podcast Episodio 12: EuroPython 2015</a>
        </div>
    </div>

                    <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="edyo",
            disqus_url="http://www.entredevyops.es/posts/openflow-sdn.html",
        disqus_title="OpenFlow, democratizando SDN",
        disqus_identifier="cache/posts/2015-02-17-dareste-openflow-democratizando-el-SDN.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>JavaScript debe estar activado para ver los <a href="http://disqus.com/?ref_noscript" rel="nofollow">comentarios con Disqus.</a>
</noscript>
    <a href="http://disqus.com" class="dsq-brlink" rel="nofollow">Comentarios con <span class="logo-disqus">Disqus</span></a>


    
            <!--End of body content-->
        </div>
    </div>

</div>

<footer><div class="container">
        Suscríbete a nuestro <a href="http://www.entredevyops.es/rss.xml">RSS <i class="fa fa-rss"></i></a> o síguenos en <a href="https://twitter.com/entredevyops">Twitter <i class="fa fa-twitter"></i></a><br>© 2017 Entre Dev Y Ops por los <a href="http://www.entredevyops.es/acerca-de.html#authors">autores</a> bajo <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es_ES">Licencia <img alt="Licencia Creative Commons" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" height="15px" width="80px"></a> — Powered by <a href="http://getnikola.com">Nikola</a>
    </div>
</footer><script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script><script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script><script src="../assets/js/jquery.colorbox-min.js" type="text/javascript"></script><script>
        $( "#search-button" ).click(toggle_search);
        function toggle_search() {
            $('#main-navbar').children().each(
                function() {
                    if ($(this).attr('id') != 'search-button') {
                        console.log($(this).attr('id'));
                        $(this).toggle();
                    };
                }
            );
            $( "#search" ).toggle();
        }
    </script><script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-25613214-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
