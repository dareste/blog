<!DOCTYPE html>
<html lang="es">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="Entre Dev Y Ops">
<title>Amazon Linux, ¿sí o no? | Entre Dev Y Ops</title>
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/edyo.css" rel="stylesheet" type="text/css">
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<meta name="twitter:card" content="summary">
<meta name="og:url" content="http://www.entredevyops.es/posts/amazon-linux-si-o-no.html">
<meta name="twitter:site:id" content="370552857">
<meta name="og:title" content="Amazon Linux, ¿sí o no?">
<meta name="og:description" content="Seguro que todos los que usáis o habéis usado Amazon Web Services (AWS para abreviar) alguna vez habréis probado, o usado de forma productiva Amazon Linux, la versión de Linux basada en RedHat/CentOS ">
</head>
<body>

<div id="wrap">

    <!-- Menubar -->

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://www.entredevyops.es/">Entre Dev Y Ops</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav navbar-right" id="main-navbar">
<li>
<a href="../tags/index.html"><i class="fa fa-tags"></i> Etiquetas</a>
                </li>
<li>
<a href="../archive.html"><i class="fa fa-archive"></i> Archivo</a>
                </li>
<li>
<a href="../podcast.html"><i class="fa fa-microphone"></i> Podcast</a>
                </li>
<li>
<a href="../acerca-de.html"><i class="fa fa-info-circle"></i> Acerca de...</a>

                        </li>
<li id="search-button"><a href="#" class="fa fa-search"></a></li>
                        </ul>
<form method="get" role="search" id="search" action="https://google.es/search" class="nav navbar-form">
<input type="hidden" name="as_sitesearch" value="http://www.entredevyops.es/"><input type="text" name="q" maxlength="255" placeholder="Buscar..." class="form-control"><input type="submit" value="Buscar">
</form>
                
            </div>
<!-- /.navbar-collapse -->
        </div>
    </nav><!-- End of Menubar --><div class="container">
        <div class="body-content">
            <!--Body content-->
    <article class="postbox clearfix"><h1 class="p-name" itemprop="headline name">Amazon Linux, ¿sí o no?</h1>

            <ul class="pager">
<li class="previous">
        <a href="hay-consenso-consenso.html" title="¿Hay consenso en el consenso?" rel="prev">Post anterior</a>
        </li>
        <li class="next">
            <a href="paginas-estaticas-amazon-2.html" title="Páginas estáticas en Amazon - 2" rel="next">Siguiente post</a>
        </li>
    </ul>
<div class="meta">
            <small>
                por <span class="author">Eduardo Bellido Bellido</span>
                el <time class="published" datetime="2016-08-23T19:55:00+02:00">23/08/2016</time>
                
                en     <span itemprop="keywords">
        <a class="tag p-category" href="../tags/amazon-ws.html"><span class="badge badge-info">Amazon WS</span></a>
        <a class="tag p-category" href="../tags/cloud.html"><span class="badge badge-info">Cloud</span></a>
        <a class="tag p-category" href="../tags/infraestructura.html"><span class="badge badge-info">Infraestructura</span></a>
        <a class="tag p-category" href="../tags/linux.html"><span class="badge badge-info">Linux</span></a>
        <a class="tag p-category" href="../tags/opinion.html"><span class="badge badge-info">Opinión</span></a>
        <a class="tag p-category" href="../tags/sistemas-operativos.html"><span class="badge badge-info">Sistemas Operativos</span></a>
    </span>

            </small>
        </div>
        <p><img src="../images/AmazonWebservices.png" alt="Amazon Web Services" class="align-left" height="80" width="200"></p>
<p>Seguro que todos los que usáis o habéis usado Amazon Web Services (AWS para abreviar) alguna vez habréis probado, o usado de forma productiva <a href="https://aws.amazon.com/es/amazon-linux-ami/">Amazon Linux</a>, la versión de Linux basada en RedHat/CentOS preparada por ellos y "equipada" para funcionar perfectamente en su servicio EC2.</p>
<p>Personalmente, mi predilección en cuanto a distribuciones tiende a las de la familia Debian, como la propia Debian o Ubuntu; es algo personal, quizás romántico, llevo muchos años con ellas y me siento más cómodo, no hay motivos técnicos que me liguen a ellas especialmente. A lo largo de mi carrera he trabajado con muchas distribuciones, y todas tienen cosas buenas y malas, no creo que exista la <em>silver bullet</em> de las distribucciones de Linux, nada más lejos de la realidad. Quede claro que el objetivo de este artículo no es entrar en guerras o discusiones en si es mejor usar Debian, Ubuntu, RedHat o CentOS, el quid de la cuestión aquí es la existencia de Amazon Linux, con sus ventajes e inconvenientes. Así que vamos al lío.</p>
<!-- TEASER_END -->

<p>El principal problema en usar una versión de Linux como la de Amazon es la reproducibilidad, imaginemos que AWS no es nuestro único proveedor, o que no dependemos exclusivamente de proveedores <em>cloud</em> y seguir utilizando nuestro propio <em>hardware</em>. Dada esta situación, tendríamos el inconviente (por decirlo suavemente) de no poder usar el mismo <abbr title="Sistema Operativo">SO</abbr> en todos los entornos, esto podría provocar que el comportamiento de nuestro servicio no sea el mismo según desde donde estemos prestando nuestros servicios, algo que podría convertirse en un infierno para diagnosticar, imaginad: parches propios, paquetes distintos, kernels a medida, configuraciones por defecto diferentes...</p>
<p>Otro problema, aunque quizás esto recae más en los respectivos mantenedores de las versiones de Linux disponibles para AWS, es que muchas veces no vienen con todos los paquetes instalados por defecto para funcionar <em>out of the box</em> en EC2. Por pone algún ejemplo, podría ser que el paquete <a href="https://cloudinit.readthedocs.io/">cloud-init</a> no venga instalado, o el <abbr title="Command line interface">cli</abbr> de AWS, muchas veces necesario para realizar acciones automatizadas. Más que ser un drama, es simplemente un inconveniente fácilmente salvable, pero que requiere trabajo, personalmente, creo que las versiones de Linux disponibles en el <a href="https://aws.amazon.com/marketplace"><em>Marketplace</em></a> de AWS, deberían venir con una base algo más completa dado el entorno en el que se encuentran.</p>
<p>La parte que a mi más me perturba en realidad, es la "magia" que muchas veces hace Amazon Linux, que no echas a faltar hasta que por algún motivo tienes la necesidad (o el requerimiento) de tener que utilizar otra versión de Linux. Pensaréis, nada que no sea adaptable/reproducible seguramente, por supuesto, pero volvemos a lo mismo, requiere más trabajo, y sobretodo, investigación, tendremos que investigar hasta descubrir que es lo que es necesario configurar para replicar el comportamiento que Amazon Linux tiene por defecto. Por poner un ejemplo, tenemos el paquete <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html#ec2-net-utils">ec2-net-utils</a>, este paquete permite que las ENIs que son añadidas en caliente a una instancia EC2 se configuren automáticamente, sin intervención ninguna, algo que no ocurre por ejemplo si estuviéramos usando Ubuntu 12.04 LTS. Este paquete no está disponible en les repositorios de Ubuntu, con lo que <code>apt-get</code> no podrá salvarnos el culo en esta ocasión, pero para estos casos la comunidad está siempre para rescatarnos, y en esta ocasión una simple <a href="https://github.com/search?q=ec2+net+ubuntu&amp;ref=searchresults&amp;type=Repositories&amp;utf8=%E2%9C%93">búsqueda en GitHub</a> nos dará la solución.</p>
<p>Algo que también nos puede descolocar en algún momento es el <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/device_naming.html">nombre de los discos de las instancias</a> en función del tipo de virtualización que escojamos a la hora de iniciarlas, si optamos por el tipo <em>Paravirtual</em> (modo en el cual el sistema virtualizado necesita un kernel modificado y unos controladores específicos para poder funcionar, este modo también se llama "virtualización ligera") no habrá problema, en cambio, si optamos por las de tipo <abbr title="Hardware Virtual Machine">HVM</abbr> (este modo podríamos decir que es de virtualización completa, el sistema anfitrión dispone de instrucciones <em>hardware</em> que permiten al sistema virtualizado funcionar como si estuviera directamente sobre el <em>hardware</em>), la cosa se complica, en este caso, los dispositivos deberían llamarse <code>/dev/xvdX</code>, pero Amazon Linux, siempre pensando en el bien común y para hacernos la vida más fácil, crea enlaces simbólicos del tipo <code>/dev/sdX</code>, apuntando a los nombres anteriores. Esto no debería ser un problema, hasta que por algún motivo se empieza a utilizar otra versión de Linux y nuestros scripts, o herramientas de <em>configuration management</em> utilizan los enlaces simbólicos para referirse a los discos, es aquí cuando empiezan las risas.</p>
<p>A pesar de todo esto, el trabajo que hace AWS es realmente bueno, disponemos de un sistema bastante actualizado y listo para usarse, lo que en cierto modo nos puede simplificar el trabajo, todo a cambio del "desconocimiento" (hasta que se descubre) de los detalles de configuración propios de esta versión de Linux.</p>
<p>Y después de todo este rollo, qué opináis... Amazon Linux, ¿sí o no?</p>
    </article><div class="pager row">
        <div class="previous col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div>Post anterior</div>
            <a href="hay-consenso-consenso.html" rel="prev">¿Hay consenso en el consenso?</a>
        </div>
        <div class="next col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <div>Siguiente post</div>
            <a href="paginas-estaticas-amazon-2.html" rel="next">Páginas estáticas en Amazon - 2</a>
        </div>
    </div>

                    <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="edyo",
            disqus_url="http://www.entredevyops.es/posts/amazon-linux-si-o-no.html",
        disqus_title="Amazon Linux, \u00bfs\u00ed o no?",
        disqus_identifier="cache/posts/2016-08-23-edubxb-amazon-linux.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>JavaScript debe estar activado para ver los <a href="http://disqus.com/?ref_noscript" rel="nofollow">comentarios con Disqus.</a>
</noscript>
    <a href="http://disqus.com" class="dsq-brlink" rel="nofollow">Comentarios con <span class="logo-disqus">Disqus</span></a>


    
            <!--End of body content-->
        </div>
    </div>

</div>

<footer><div class="container">
        Suscríbete a nuestro <a href="http://www.entredevyops.es/rss.xml">RSS <i class="fa fa-rss"></i></a> o síguenos en <a href="https://twitter.com/entredevyops">Twitter <i class="fa fa-twitter"></i></a><br>© 2017 Entre Dev Y Ops por los <a href="http://www.entredevyops.es/acerca-de.html#authors">autores</a> bajo <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es_ES">Licencia <img alt="Licencia Creative Commons" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" height="15px" width="80px"></a> — Powered by <a href="http://getnikola.com">Nikola</a>
    </div>
</footer><script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script><script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script><script src="../assets/js/jquery.colorbox-min.js" type="text/javascript"></script><script>
        $( "#search-button" ).click(toggle_search);
        function toggle_search() {
            $('#main-navbar').children().each(
                function() {
                    if ($(this).attr('id') != 'search-button') {
                        console.log($(this).attr('id'));
                        $(this).toggle();
                    };
                }
            );
            $( "#search" ).toggle();
        }
    </script><script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-25613214-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
